---
description:
globs:
alwaysApply: true
---
# üìÑ Product Requirement Document (PRD) ‚Äì Plateforme de R√©servation de Formations

## 1. üéØ Objectif
Cr√©er une plateforme web professionnelle qui permet aux utilisateurs de :
- Consulter les formations disponibles (description, prix, disponibilit√©, places restantes).  
- R√©server une formation en ligne (une seule fois par personne, avec annulation possible).  
- Ajouter des formations aux favoris.  
- Commenter et donner leur avis.  
- Les administrateurs peuvent g√©rer les formations, utilisateurs, offres sp√©ciales, et bannissements.  

Le design doit √™tre **moderne, anim√© et professionnel** (React + CSS/animations).

---

## 2. üë§ Types d‚Äôutilisateurs
- **Visiteur (non connect√©)** :  
  Peut consulter les formations, mais doit cr√©er un compte pour r√©server/ajouter aux favoris/commenter.
- **Utilisateur (User)** :  
  Peut r√©server une formation, l‚Äôannuler avant la date limite, commenter, ajouter aux favoris.
- **Administrateur (Admin)** :  
  Peut ajouter/modifier/supprimer des formations, g√©rer les utilisateurs (bannir, donner des offres sp√©ciales), suivre les r√©servations.

---

## 3. ‚öôÔ∏è Fonctionnalit√©s
### 3.1. Gestion des formations
- Ajouter une formation avec : nom, description, prix, nombre de places, dur√©e de r√©servation.  
- V√©rification automatique : si les places sont √©puis√©es ou la date de r√©servation pass√©e ‚Üí message d‚Äôerreur.

### 3.2. R√©servations
- L‚Äôutilisateur remplit ses infos personnelles (nom, pr√©nom, email, t√©l√©phone).  
- Une seule r√©servation par utilisateur par formation.  
- D√©cr√©ment automatique du nombre de places `places -= 1`.  
- Possibilit√© d‚Äôannuler avant la date limite.

### 3.3. Comptes et r√¥les
- Inscription/Connexion obligatoire pour r√©server ou commenter.  
- Deux r√¥les :  
  - **User** : acc√®s normal.  
  - **Admin** : acc√®s √† la gestion (formations, utilisateurs, offres sp√©ciales).

### 3.4. Favoris
- L‚Äôutilisateur peut ajouter des formations en favoris.  
- Une section "Mes Favoris" affichera toutes les formations pr√©f√©r√©es.

### 3.5. Commentaires
- Les utilisateurs peuvent laisser des avis/commentaires sur une formation.

### 3.6. Offres sp√©ciales (Admin)
- L‚Äôadmin peut attribuer des avantages (ex : 3 formations gratuites pour un user).

### 3.7. UI/UX
- Interface responsive.  
- Animations modernes (React transitions, CSS effects).  
- Messages clairs pour erreurs et confirmations.  

---

## 4. üóÇÔ∏è Structure des fichiers

### 4.1. Frontend (React + CSS)
```
/frontend
  /public
    index.html
  /src
    /components
      Navbar.jsx
      Footer.jsx
      FormInput.jsx
      Button.jsx
    /pages
      Home.jsx
      FormationList.jsx
      FormationDetails.jsx
      Login.jsx
      Register.jsx
      Dashboard.jsx        (admin)
      MyReservations.jsx
      Favorites.jsx
    /context
      AuthContext.js
    /services
      api.js              (Appels API vers backend)
    /styles
      global.css
      animations.css
    App.jsx
    index.js
```

### 4.2. Backend (Node.js + Express)
```
/backend
  /src
    /config
      db.js               (connexion MongoDB)
    /models
      User.js             (sch√©ma utilisateur avec r√¥le, favoris, r√©servations)
      Formation.js        (sch√©ma formations)
      Reservation.js      (sch√©ma r√©servation)
      Comment.js          (sch√©ma commentaires)
    /controllers
      authController.js   (login, register, gestion comptes)
      formationController.js (CRUD formations, disponibilit√©)
      reservationController.js (r√©server, annuler)
      commentController.js (ajout, affichage commentaires)
      adminController.js  (offres sp√©ciales, bannissements)
    /routes
      authRoutes.js
      formationRoutes.js
      reservationRoutes.js
      commentRoutes.js
      adminRoutes.js
    /middlewares
      authMiddleware.js   (JWT, v√©rification r√¥le user/admin)
    server.js
```

### 4.3. Base de donn√©es (MongoDB)
- **User**  
  - id, nom, pr√©nom, email, t√©l√©phone, mot de passe (hash√©), r√¥le (user/admin), favoris, offres sp√©ciales
- **Formation**  
  - id, titre, description, prix, places totales, places restantes, date limite
- **Reservation**  
  - id, userId, formationId, date r√©servation, statut (active/annul√©e)
- **Comment**  
  - id, userId, formationId, contenu, date

---

## 5. üîê S√©curit√©
- Hash mot de passe (bcrypt).  
- Authentification via JWT.  
- Middleware pour v√©rifier les r√¥les.  
- Validation des inputs (express-validator).

---

## 6. üöÄ Roadmap de d√©veloppement
1. **Setup du projet** : React, Node.js, MongoDB.  
2. **Authentification** : inscription, login, r√¥les.  
3. **Gestion formations** : CRUD admin + affichage public.  
4. **R√©servations** : logique de places restantes + annulation.  
5. **Favoris + Commentaires**.  
6. **Offres sp√©ciales Admin**.  
7. **UI/UX + animations avanc√©es**.  
8. **Tests et d√©ploiement (Vercel/Netlify pour frontend, Render/Heroku pour backend, MongoDB Atlas pour DB).**